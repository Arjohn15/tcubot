"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = require("express");
const userController_1 = require("../controllers/userController/userController");
const formRegisterSchema_1 = require("../schema/formRegisterSchema");
const validateRegistrants_1 = require("../middleware/validateRegistrants");
const authMiddleware_1 = require("../middleware/authMiddleware");
const userRouter = (0, express_1.Router)();
userRouter.get("/user", authMiddleware_1.authenticate, authMiddleware_1.authorize_user, userController_1.user_data);
userRouter.get("/user/visit/:id", authMiddleware_1.authenticate, authMiddleware_1.authorize_user, userController_1.getUser);
userRouter.get("/user/chat/history", authMiddleware_1.authenticate, authMiddleware_1.authorize_user, userController_1.userChatHistory);
userRouter.get("/user/chat/visit/:id", authMiddleware_1.authenticate, authMiddleware_1.authorize_user, userController_1.userVisit);
userRouter.get("/user/schedule-weekday", authMiddleware_1.authenticate, authMiddleware_1.authorize_user, userController_1.userWeekdaySchedule);
userRouter.get("/user/recent-visits", authMiddleware_1.authenticate, authMiddleware_1.authorize_user, userController_1.getRecentUserVisits);
userRouter.post("/register", (0, validateRegistrants_1.validateRegistrants)(formRegisterSchema_1.formRegisterSchema), userController_1.user_register);
userRouter.post("/user/chat/ai", authMiddleware_1.authenticate, authMiddleware_1.authorize_user, userController_1.userChatAI);
userRouter.post("/user/professor/schedule", authMiddleware_1.authenticate, authMiddleware_1.authorize_user, userController_1.userProfessorSchedule);
userRouter.post("/user/professor/schedule-all", authMiddleware_1.authenticate, authMiddleware_1.authorize_user, userController_1.userProfessorAllSchedule);
userRouter.post("/user/recent-visits", authMiddleware_1.authenticate, authMiddleware_1.authorize_user, userController_1.addRecentUserVisit);
userRouter.put("/user-update", authMiddleware_1.authenticate, authMiddleware_1.authorize_user, userController_1.userUpdate);
userRouter.put("/user-update-password", authMiddleware_1.authenticate, authMiddleware_1.authorize_user, userController_1.userUpdatePassword);
userRouter.put("/user-update-by-admin/:id", authMiddleware_1.authenticate, authMiddleware_1.authorize_admin, userController_1.userUpdateByAdmin);
userRouter.put("/user/professor/schedule-update/:id", authMiddleware_1.authenticate, authMiddleware_1.authorize_user, userController_1.userProfessorEditSchedule);
userRouter.delete("/user-delete/:id", authMiddleware_1.authenticate, authMiddleware_1.authorize_admin, userController_1.userDelete);
userRouter.delete("/user/professor/schedule-delete/:id", authMiddleware_1.authenticate, authMiddleware_1.authorize_user, userController_1.userProfessorDeleteSchedule);
exports.default = userRouter;
